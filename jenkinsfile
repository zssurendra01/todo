pipeline {
    agent {
        label "SLAVE"
    }
    stages {
        stage('download npm') {
            steps {
                sh '''
                 npm install
                '''
            }
        }
        
        stage('seeing artifacts') {
            steps {
                sh '''
                zip -r todo.zip node_modules server.js *
                '''
            }
        }
        stage ('Uploading artifacts to nexus') {
            steps {
                sh '''
                curl -v -u admin:zelar123 --upload-file todo.zip http://172.31.0.171:8081/repository/todo/todo.zip
                '''

            }
        }
    }
}   
